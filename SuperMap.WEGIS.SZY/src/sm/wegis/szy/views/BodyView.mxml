<?xml version="1.0" encoding="utf-8"?>
<baseclass:ViewBase xmlns:fx="http://ns.adobe.com/mxml/2009" 
					xmlns:s="library://ns.adobe.com/flex/spark" 
					xmlns:mx="library://ns.adobe.com/flex/mx" 
					xmlns:baseclass="sm.wegis.szy.core.baseclass.*" 
					width="100%" height="100%"
					creationComplete="creationCompleteHandler(event)">
	<fx:Script>
		<![CDATA[
			import com.adobe.cairngorm.control.CairngormEventDispatcher;
			import com.supermap.wegis.common.core.widget.WidgetManager;
			
			import mx.events.FlexEvent;
			
			import sm.wegis.szy.events.MenuItemEvent;
			
			protected function creationCompleteHandler(event:FlexEvent):void
			{
				initListener();
			}
			
			/**初始化视图事件监听*/
			public function initListener():void
			{
				//根据菜单选择切换主体面板内容
				CairngormEventDispatcher.getInstance().addEventListener(MenuItemEvent.SYSTEM_SUB_MENU_SELECT_CHANGE
					,switchBodyContent);
			}
			
			//切换主体内容
			private function switchBodyContent(event:MenuItemEvent):void
			{
				var menuItemData:Object = event.data;
				if(menuItemData == null) {
					return;
				}
				
				this.BodyContainerId.removeAllElements();
				menuItemData.parent = this.BodyContainerId;
				WidgetManager.getInstance().loadWidget(menuItemData);
			}
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:Group id="BodyContainerId" width="100%" height="100%">
	</s:Group>
	<s:VGroup left="5" bottom="5" width="100%">
		<s:Rect width="100%" height="1">
			<s:fill>
				<s:SolidColor color="#000000"/>
			</s:fill>
		</s:Rect>
		<s:HGroup id="CopyRight" width="100%" gap="0" horizontalAlign="left" 
				  verticalAlign="middle">
			<s:Label fontFamily="Times New Roman" text="©" verticalAlign="bottom"/>
			<s:Label text="{modelLocator.systemInfo.copyRight}"/>
		</s:HGroup>
	</s:VGroup>
</baseclass:ViewBase>
